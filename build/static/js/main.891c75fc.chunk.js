(this["webpackJsonpmovie-finder"]=this["webpackJsonpmovie-finder"]||[]).push([[0],{21:function(e,t,n){"use strict";n.r(t);var c=n(18),a=n.n(c),r=n(19),o=n(8),i=n(0),s=n(10),j=n.n(s),l=(n(28),n(9)),u=n(35),d=n(34),b=n(2);function h(){return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)(m,{})})}function m(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(""),r=Object(o.a)(a,2),s=r[0],j=r[1];return Object(b.jsxs)("div",{id:"search",children:[Object(b.jsx)("h1",{children:"Movies"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c("");var t=encodeURIComponent(n);j(t)},children:[Object(b.jsx)("input",{id:"searchBar",type:"text",placeholder:"Search Movies",value:n,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)("button",{className:"searchBtn colorFadeEffect",children:"Find Movie"})]}),s?Object(b.jsx)(f,{movieTitle:s,searchState:s}):Object(b.jsx)(b.Fragment,{})]})}function f(e){var t=e.movieTitle,n=e.searchState,c=Object(i.useState)(null),a=Object(o.a)(c,2),r=a[0],s=a[1],j=Object(i.useState)(1),l=Object(o.a)(j,2),u=l[0],d=l[1];return Object(i.useEffect)((function(){1!==u&&d(1)}),[n]),Object(i.useEffect)((function(){console.log("getting search data for "+t+" page "+u),fetch("https://www.omdbapi.com/?s=".concat(t,"&apikey=52514a3a&page=").concat(u)).then((function(e){return e.json()})).then((function(e){return s(e)})).catch(console.error)}),[n,u]),Object(b.jsxs)("div",{className:"movieList",children:[r&&"True"===r.Response?r.Search.map((function(e){return Object(b.jsx)(O,{name:e.Title,year:e.Year})})):Object(b.jsx)("div",{className:"movieList",children:Object(b.jsx)("h2",{children:"No results"})}),[1,2,3].map((function(e){return Object(b.jsx)("button",{className:"pageBtn colorFadeEffect",onClick:function(){!function(e){e!==u&&d(e)}(e)},children:e})}))]})}function O(e){var t=e.name,n=e.year,c=Object(i.useState)(null),s=Object(o.a)(c,2),j=s[0],h=s[1],m="Unknown release date",f="Unknown runtime",O="Unknown genre",p="Unknown director",x=Object(i.useState)(!1),v=Object(o.a)(x,2),g=v[0],w=v[1];function k(){return(k=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g||(console.log("getting movie data"),fetch("https://www.omdbapi.com/?t=".concat(t,"&y=").concat(n,"&apikey=52514a3a")).then((function(e){return e.json()})).then(h).catch(console.error),w(!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){w(!1)}),[t,n]),j&&"True"===j.Response&&(m="".concat(j.Released),f="".concat(j.Runtime),O="".concat(j.Genre),null!==j.Director&&"N/A"!==j.Director&&(p="".concat(j.Director))),Object(b.jsx)("div",{children:Object(b.jsx)(u.a,{style:{backgroundColor:"transparent",margin:"20px",borderRadius:"20px"},children:Object(b.jsx)(d.a,{onClick:function(){console.log("clicked on movie to see details"),console.log("detailsShown: "+g),function(){k.apply(this,arguments)}()},children:Object(b.jsxs)(l.a,{container:!0,className:"cardGridContainer",direction:"column",justify:"center",spacing:2,children:[Object(b.jsxs)(l.a,{item:!0,style:{paddingTop:"25px",marginBottom:"20px"},className:"movieTitle",children:[t," ",n]}),g?Object(b.jsxs)(l.a,{container:!0,className:"cardDetailsContainer",direction:"row",justify:"center",spacing:7,children:[Object(b.jsx)(l.a,{item:!0,children:m}),Object(b.jsx)(l.a,{item:!0,children:f}),Object(b.jsx)(l.a,{item:!0,children:O}),Object(b.jsx)(l.a,{item:!0,children:p})]}):Object(b.jsx)(b.Fragment,{})]})})})})}j.a.render(Object(b.jsx)(h,{}),document.getElementById("root"))},28:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.891c75fc.chunk.js.map